##### 1. 自定义类继承 BroadcastReceiver

```java
...
public class SmsListenerReceiver extends BroadcastReceiver {
    private static final String TAG = SmsListenerReceiver.class.getSimpleName();

    @Override // 当短信到来的时候执行
    public void onReceive(Context context, Intent intent) {
        // 获取发送者的号码和发送内容
        Object[] pdus = (Object[]) intent.getExtras().get("pdus");
        for (Object pdu: pdus) {
            // [1] 获取smsMessage
            SmsMessage msg = SmsMessage.createFromPdu((byte[]) pdu);
            // [2] 获取发送短信的内容
            String content = msg.getMessageBody();
            // [3] 获取发送短信的手机号码
            String address = msg.getOriginatingAddress();
            Log.e(TAG, "onReceive: content="+content+",address="+address);
        }
    }
}
```



