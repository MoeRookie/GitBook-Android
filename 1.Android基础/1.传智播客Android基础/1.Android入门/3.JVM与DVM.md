```java
由于版权的原因(Sun控告Google使用了jvm的相关代码),谷歌自己研发了dvm.
```

## 区别

* ##### DVM把所有的.class文件变成一个dex文件\(加快了文件的移植速度\)
* ##### DVM基于寄存器架构\(使用CPU内存,加快了文件的访问速度\)
* ##### 即 :

|  | jvm | dalvik vm |
| :--- | :---: | :---: |
| 编译后的文件格式 | .java-&gt;.class-&gt;.jar | .java-&gt;.class-&gt;.dex-&gt;.odex |
|  | jdk javac | sdk dex |
| 基于的架构 | 基于栈的架构\(普通内存\) | 基于寄存器的架构\(CPU内存\) |

## art模式

```java
ART模式是AndroidRuntime的简称.
```

* ##### 4.4以前

```java
Android系统的应用程序均在DVM上运行,但这种模式须依靠编译器来实现与应用程序的沟通;
应用程序每次运行时,都需要编译器将程序内的代码转变为机器码才能运行;
故无形中就多附加了一道手续,就造成了耗电相对较快、占用内存大、即使是旗舰机用久了也会卡顿严重的现象;
```

* ##### art

```java
art通过在安装应用程序时,自动对程序进行代码的预读取编译,从而让程序直接编译成机器码;
免去了Dalvik模式要时时转换代码,实现了高效率、省电、占用更低的系统内存从而使得手机运行流畅;

但凡事总有正反两方面,ART在解决了该问题的同时也有如
- 占用略高一些的存储空间(编译后的机器码也占用了存储空间)
- 安装程序时相比普通Dalvik模式要长一些(来实现预编译)
```





