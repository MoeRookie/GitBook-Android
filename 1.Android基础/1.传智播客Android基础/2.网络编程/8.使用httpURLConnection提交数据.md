##### 注：两种提交数据方式的区别

```java
get:通过把数据拼接到url中组拼url地址(有大小限制 1kb | 4kb)
- 1kb[浏览器限制要拼接的数据不能超过1kb]
- 4kb[http协议规定get方式提交时要拼接的数据不能超过4kb]
post:较get方式更加安全(没有大小限制)
```

##### 说明：

```java
使用登录案例以提交用户名及密码的方式;
```

#### 画UI

```xml
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    <LinearLayout
        android:layout_gravity="center_vertical"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">
        <EditText
            android:id="@+id/et_uname"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="请输入用户名"/>
        <EditText
            android:id="@+id/et_pwd"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="请输入密码"/>
        <Button
            android:layout_marginTop="50dp"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:onClick="onGet"
            android:text="get提交"/>
        <Button
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:onClick="onPost"
            android:text="post提交"/>
    </LinearLayout>
</FrameLayout>
```

#### 根据UI写对应的业务逻辑

```java
...
public class MainActivity extends AppCompatActivity {

    private TextView mEtUname, mEtPwd;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        // [1]找到我所关心的控件
        mEtUname = findViewById(R.id.et_uname);
        mEtPwd = findViewById(R.id.et_pwd);
    }

    /**
     * 通过get方式提交数据
     */
    public void onGet(View view) {
        // [1]获取到用户名&密码
        String uname = mEtUname.getText().toString().trim();
        String pwd = mEtPwd.getText().toString().trim();
        // [2]定义get方式要提交的路径
        final String path = "http://192.168.11.73:8080/login/LoginServlet?username="+ uname +"&password="+pwd;
        new Thread(){
            @Override
            public void run() {
                super.run();
                try{
                    // [3]创建url
                    URL url = new URL(path);
                    // [4]获取到httpUrlConnection
                    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
                    // [6]设置请求方式为get
                    conn.setRequestMethod("GET");
                    // [7]设置连接超时时间
                    conn.setConnectTimeout(5000);
                    // [8]获取服务器返回的状态码
                    int code = conn.getResponseCode();
                    if (200 == code) {
                        // [9]获取服务器返回的数据(以流的形式)
                        InputStream inputStream = conn.getInputStream();
                        // [10]stream->string
                        String result = StreamUtils.streamToString(inputStream);
                        showToast(result);
                    }
                }catch (Exception e){
                    e.printStackTrace();
                }
            }
        }.start();
    }

    /**
     * 在toast中显示登录结果
     * @param result 登录结果
     */
    private void showToast(final String result) {
        runOnUiThread(new Runnable() {
            @Override
            public void run() {
                Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();
            }
        });
    }

    /**
     * 通过post方式提交数据
     */
    public void onPost(View view) {
        // [1]获取到用户名&密码
        String uname = mEtUname.getText().toString().trim();
        String pwd = mEtPwd.getText().toString().trim();
        // [2]定义post方式要提交的路径[一、请求路径不同]
        final String path = "http://192.168.11.73:8080/login/LoginServlet";
        // [四、post要自己组拼请求体的内容]
        final String data = "username=" + uname + "&password=" + pwd;
        new Thread(){
            @Override
            public void run() {
                super.run();
                try{
                    // [3]创建url
                    URL url = new URL(path);
                    // [4]获取到httpUrlConnection
                    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
                    // [6]设置请求方式为post[二、post的请求方式为POST]
                    conn.setRequestMethod("POST");
                    // [7]设置连接超时时间
                    conn.setConnectTimeout(5000);
                    // [三、多了两个头信息(Content-Length & Content-Type)]
                    conn.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");
                    conn.setRequestProperty("Content-Length",Integer.toString(data.length()));
                    // [五、最终通过请求体以流的形式把数据写给服务器]
                    conn.setDoOutput(true); // 设置允许输出的标记
                    conn.getOutputStream().write(data.getBytes());
                    // [8]获取服务器返回的状态码
                    int code = conn.getResponseCode();
                    if (200 == code) {
                        // [9]获取服务器返回的数据(以流的形式)
                        InputStream inputStream = conn.getInputStream();
                        // [10]stream->string
                        String result = StreamUtils.streamToString(inputStream);
                        showToast(result);
                    }
                }catch (Exception e){
                    e.printStackTrace();
                }
            }
        }.start();
    }
}
```

#### 注\*

* ##### get&post提交数据的实践区别

```java
1.post较get来看,其请求路径不同[http://192.168.11.73:8080/login/LoginServlet]
2.post的请求方式为POST方式
3.post要自己组拼请求体的内容
4.较get多了两个头信息(Content-Length & Content-Type)
5.最终通过请求体以流的形式把数据写给服务器
```



